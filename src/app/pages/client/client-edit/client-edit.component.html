<div class="card grey lighten-5">
  <div class="card-content">
    <span class="card-title"><h3>DNS Cliente {{clientEdit.name}} </h3></span>
  </div>
  <div class="container">
    <div class="card">
        <div class="row">
            <div class="input-field col s10">
                <input id="icon_prefix" type="text" [(ngModel)]="filter" (blur)="filterSelect()" >
                <label for="icon_prefix">Busca</label>
                <i class="material-icons prefix">search</i>
              </div>
        </div>
      <form [formGroup]="form" (ngSubmit)="edit()" >
          <div class="card-content">
            <div formArrayName="dnss" *ngFor="let dns of getFormDnss().controls; let i = index;" >
              <div class="row">
                <div class="col s5">
                  <div class="input-field" [formGroupName]="i">
                    <input id="desc" type="text" class="validate" [ngClass]="validate('description', i)"  formControlName="description">
                    <label for="desc">Descrição DNS</label>
                    <span class="helper-text" data-error="Campo Obrigatório"></span>
                  </div>
                </div>
                <div class="input-field col s5" [formGroupName]="i">
                  <select formControlName="serverdns" >
                    <option value="" disabled>Use a busca para filtrar</option>
                    <option *ngFor="let s of filteredServers" [ngValue]="s.name" >{{s.name}} </option>
                  </select>
                  <label>Servidor Cliente</label>
                </div>
                <div class="col s1">
                    <a (click)="removeDns(i)" class="waves-effect waves-light" title="Remover"><i class="material-icons">close</i></a>
                  </div>
              </div>
            </div>
          </div>
          <div class="card-action">
            <div class="row">
              <div class="col s1">
                <div [hidden]="loading">
                    <div class="preloader-wrapper small active">
                      <div class="spinner-layer spinner-blue-only">
                        <div class="circle-clipper left">
                          <div class="circle"></div>
                        </div><div class="gap-patch">
                          <div class="circle"></div>
                        </div><div class="circle-clipper right">
                          <div class="circle"></div>
                        </div>
                      </div>
                    </div>
                </div>
              </div>
              <div class="col s2">
                <button [disabled]="!loading" type="submit" class="waves-effect waves-light btn blue">Salvar</button>
              </div>
              <div class="col s2">
                <a routerLink="/menu/clients" class="waves-effect waves-light btn blue">Cancelar</a>
              </div>
              <div class="col s3">
                <a (click)="addDns()"  class="waves-effect waves-light btn green"><i class="material-icons">add</i> Add DNS</a>
              </div>
            </div>
          </div>
      </form>
    </div>
  </div>
</div>



